<!DOCTYPE HTML>
<!--
	Astral by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Astral, versión Vicente Fredes Estuardo</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

		<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>

	</head>
	<body class="is-preload">

		<!-- Wrapper-->
			<div id="wrapper">

				<!-- Nav -->
					<nav id="nav">
						<a href="#" class="icon solid fa-home"><span>Inicio</span></a>
						<a href="#calculadora" class="icon solid fa-calculator"><span>Calculadora</span></a>
						<a href="#tabla" class="icon solid fa-table"><span>Tablas</span></a>
						<a href="#contact" class="icon solid fa-envelope"><span>Contacto</span></a>
						<a href="https://twitter.com/numetal_moment" class="icon brands fa-twitter"><span>Twitter</span></a>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Me -->
							<article id="home" class="panel intro">
								<header>
									<h1 id="titulo">Página 'Astral'</h1>
									<p id="subtitulo">Vicente Fredes Estuardo</p>
									<br>
									<button type="button" class="btn btn-secondary" id="btnFondo" onclick="cambiarFondo();">Cambiar Fondo</button>
									<button type="button" class="btn btn-secondary" id="btnFuente" onclick="cambiarFuente();">Cambiar Fuente</button>
								</header>

								<a href="calculadora" class="jumplink pic">
									<span class="arrow icon solid fa-chevron-right"><span>Ir a calculadora</span></span>
									<img src="images/andromeda.webp" alt="" />
								</a>
							</article>

						<!-- Calculadora -->
							<article id="calculadora" class="panel">
								<header>
									<h2>Calculadora</h2>
								</header>
								<p>
									Ingrese dos números y una operación a realizar en sus respectivos campos. A continuación, haga click en 'Calcular' y verá el resultado en pantalla
								</p>
								<section id="seccionCalculadora">
									<form action="#" method="post" id="formCalculadora">
										<div class="form-row justify-content-center">
											<div class="form-group col-md-2 col-sm-6 mx-1">
											  <!--<label for="inputNo1">1er Número</label>-->
											  <br>
											  <input type="number" class="form-control" id="inputNo1">
											</div>	
										    <div class="form-group col-md-2 col-sm-6 mx-1">
												<!--<label for="exampleFormControlSelect1">Op.</label>-->
												<br>
												<select class="form-control" id="seleccionOperacion">
													<option selected value="0">...</option>
													<option value="1">+</option>
													<option value="2">-</option>
													<option value="3">x</option>
													<option value="4">÷</option>
													<option value="5">^</option>
													<option value="6">√</option>
													<option value="7">mod</option>
												</select>
											  </div>
											<div class="form-group col-md-2 col-sm-6 mx-1">
												<!--<label for="inputNo2">2do Número</label>-->
												<br>
												<input type="number" class="form-control" id="inputNo2">
											</div>
											<div class="form-group col-md-2 col-sm-6 mx-3 mt-3">
												<button type="button" class="btn btn-secondary" id="btnCalcular" onclick="calcular();">Calcular</button>
											</div> 
											<div class="form-group col-md-2 col-sm-6 mx-3 mt-3">
												<button type="button" class="btn btn-secondary" id="btnLimpiar" onclick="limpiar(document.getElementById('formCalculadora'), document.getElementById('seccionCalculadora'));">Limpiar</button>
											</div> 
										</div>
										</form>
										<div class="form-row justify-content-center" style="margin-top: 5%;">
											<div class="col-md-6">
												<h3 style="text-align: center;">Resultado:</h3>
											</div>
										  </div>									
								</section>
							</article>

						<!-- Tabla Multiplicar -->
							<article id="tabla" class="panel">
								<header>
									<h2>Tabla de Multiplicar</h2>
								</header>
								<p>
									Escoja un número entre el 1 y el 10 para desplegar su respectiva tabla.
								</p>
								<section id="seccionTablas">
									<form action="#" method="post" id="formTablas">
										<div class="form-row justify-content-center">
											<div class="form-group col-md-2 col-sm-6">
												<br>
												<select class="form-control" id="seleccionNum">
													<option selected value="0">...</option>
													<option value="1">1</option>
													<option value="2">2</option>
													<option value="3">3</option>
													<option value="4">4</option>
													<option value="5">5</option>
													<option value="6">6</option>
													<option value="7">7</option>
													<option value="8">8</option>
													<option value="9">9</option>
													<option value="10">10</option>
												</select>
											</div>
											<div class="form-group col-md-4 col-sm-6 mt-4 text-center">
												<button type="button" class="btn btn-secondary" id="btnGenerar" onclick="generarTabla(parseFloat(document.getElementById('seleccionNum').value));">Generar Tabla</button>
											</div> 
											<div class="form-group col-md-2 col-sm-6 mt-4">
												<button type="button" class="btn btn-secondary" id="btnLimpiar" onclick="limpiar(document.getElementById('formTablas'), document.getElementById('seccionTablas'));">Limpiar</button>
											</div> 
										</div>
									</form>
									<div class="form-row justify-content-center">
										<div class="col-md-6 text-center">
											<button type="button" class="btn btn-secondary" id="btnGenerarTodas" onclick="generarTablas1al10();">Generar Tablas del 1 al 10</button>
										</div>
									</div>	
									<div class="form-row justify-content-center" style="margin-top: 5%;">
										<div class="col-md-6">
											<h3 style="text-align: center;">Resultado:</h3>
										</div>
									</div>									
								</section>
							</article>

						<!-- Contact -->
							<article id="contact" class="panel">
								<header>
									<h2>Formulario de Contacto:</h2>
								</header>
								<section id="seccionContacto">
									<form action="#" method="post" id="formContacto">
										<div class="form-row">
											<div class="form-group col-md-6">
											<label for="inputNombre">Nombre</label>
											<input type="text" class="form-control" id="inputNombre" placeholder="Nombre">
											</div>
											<div class="form-group col-md-6">
												<label for="inputApellido">Apellido</label>
												<input type="text" class="form-control" id="inputApellido" placeholder="Apellido">
											</div>
										</div>
										<div class="form-row">
											<div class="form-group col-md-6">
												<label for="inputEmail">Correo Electrónico</label>
												<input type="email" class="form-control" id="inputEmail" placeholder="usuario123@mail.com">
											</div>
											<div class="form-group col-md-6">
												<label for="inputTelefono">Teléfono Celular</label>
												<input type="number" class="form-control" id="inputTelefono" placeholder="9XXXXXXXX">
											</div>
										</div>
										<div class="form-row">
											<div class="form-group col-md-12">
											<label for="exampleFormControlTextarea1">Mensaje</label>
											<textarea class="form-control" id="exampleFormControlTextarea1" rows="6"></textarea>
											</div>
										</div>
										<div class="form-row">
											<div class="form-group col-md-12" style="text-align: center; vertical-align: middle;">
												<button type="button" class="btn btn-secondary" id="btnEnviar" onclick="mostrarConfirmaciónContacto()">Enviar</button>
											</div>  
										</div>
									</form> 
								</section>
								
							</article>

					</div>

				<!-- Footer -->
					<div id="footer">
						<ul class="copyright">
							<li>&copy; Vicente Fredes Estuardo - Analista Programador Computacional DUOC UC 2024</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</div>
			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

			<script>

				// Función que devuelve un color aleatorio en formato rgb
				function generarColorAleatorio() {
					var r = Math.floor(Math.random() * 256); // Valor entre 0 y 255
					var g = Math.floor(Math.random() * 256); // Valor entre 0 y 255
					var b = Math.floor(Math.random() * 256); // Valor entre 0 y 255

					// Construye el string con la sintaxis 'rgb(r, g, b)'
					var colorRGB = 'rgb(' + r + ', ' + g + ', ' + b + ')';

					return colorRGB;
				}

				// Función para cambiar color de fondo en toda la página mediante botón en el artículo de inicio
				function cambiarFondo() {
					var paginas = document.querySelectorAll("article");
					var btnFondo = document.getElementById("btnFondo");
					var colorNuevo = generarColorAleatorio();

					paginas.forEach( function(pag) {
						pag.style.backgroundColor = colorNuevo;
					});
				}

				// Función que devuelve cualquiera de las fuentes especificadas en la lista
				function generarFuenteAleatoria() {
					// Lista de fuentes
					var fuentes = [
						'Arial',
						'Helvetica',
						'Times New Roman',
						'Georgia',
						'Courier New',
						'Verdana',
						'Geneva',
						'Arial Black',
						'Impact',
						'Comic Sans MS',
						'Trebuchet MS'
					];

					// Selecciona una fuente aleatoria de la lista
					var indiceAleatorio = Math.floor(Math.random() * fuentes.length);
					var fontFamilyAleatorio = fuentes[indiceAleatorio];

					return fontFamilyAleatorio;
				}

				// Función para cambiar fuente en toda la página mediante botón en el artículo de inicio
				function cambiarFuente() {
					// Selecciona el elemento <body>
					var body = document.body;

					// Cambia el font-family del body
					body.style.fontFamily = generarFuenteAleatoria();
				}

				// Variable para que la fila(row) correspondiente al resultado solamente se agregue la primera vez que se haga click en 'Calcular'
				var filaResultadoAgregada = false;

				// Variable que contiene un array con todos los elementos a (enlaces) de la barra de navegación de la página
				var enlacesNav = document.querySelectorAll('#nav a');

				// Iteramos en cada enlace del array, para que cada uno tenga un Event Listener que haga que se limpien los formularios y espacios de resultados/tablas al cambiar de artículo
				enlacesNav.forEach(function(enlace) {
					enlace.addEventListener('click', function(event) {
						limpiar(document.getElementById('formCalculadora'), document.getElementById('seccionCalculadora'));
						limpiar(document.getElementById('formTablas'), document.getElementById('seccionTablas'));
					})
				});

				// Función para agregar fila (row) en donde se mostrará el resultado del cálculo
				// Se debe especificar la sección en la cual queremos agregar esta fila y la cual servira como parentNode (atributo)
				function agregarFila(seccion) {
					// Se crea contenedor correspondiente a la nueva fila, definiendo su clase y su html
					var filaResultado = document.createElement('div');
					filaResultado.className = 'form-row justify-content-center';
					filaResultado.id = "filaResultado";
					filaResultado.innerHTML = '<div class="col-md-6"></div>';

					// Se agrega fila a la sección
					seccion.append(filaResultado);

					// Se establece que la fila ya fue agregada, para evitar que agreguen filas de más
					filaResultadoAgregada = true;
				}

				// Función que realizará cálculos y hará las inyecciones de HTML correspondientes al caso
				function calcular()
				{
					// Si es primera vez que se ejecuta, se agrega la fila, si no, no hace falta
					if (!filaResultadoAgregada) {
						agregarFila(document.getElementById('seccionCalculadora'));
					}
					
					// Se capturan los valores númericos ingresados por el usuario
					var a = parseFloat(document.getElementById("inputNo1").value);
					var b = parseFloat(document.getElementById("inputNo2").value);
					// Se inicializa variable que contendrá el resultado del cálculo
					var c;

					// Se captura opción de operación seleccionada por el usuario
					var operacion = parseInt(document.getElementById("seleccionOperacion").value);

					// Mensaje de error en caso de que usuario haga click en 'Calcular' sin escoger una operación
					var errorOperacion = `<div class="alert alert-danger" role="alert">
                                                      					ERROR: <br> ¡Debe seleccionar una operación!
                                                  					</div>`;

					switch(operacion) {

						// Suma
						case 1:
							c = a + b;
							break;
						
						// Resta
						case 2:
							c = a - b;
							break;

						// Multiplicación
						case 3:
							c = a * b;
							break;		
							
						// División
						case 4:
							c = Math.round(a/b);
							break;	
						
						// Potencia
						case 5:
							c = a**b;
							break;	
						
						// Raíz
						case 6:
							c = a**(1/b);
							break;	
							
						// Modulo
						case 7:
							c = a%b;
							break;	
							
						// Si el usuario no elige una operación, el mensaje de errorOperacion se le asignará a la variable de resultado
						default:
							c = errorOperacion;
							break;
					}

					// Testeo de variables
					console.log(a)
					console.log(b)
					console.log(operacion)
					console.log(c)


					if (c === errorOperacion) {
						document.getElementById("filaResultado").innerHTML = errorOperacion; // Si no se escogió un operador, se mostrará mensaje de error correspondiente
					} else if (isNaN(c)) {
						document.getElementById("filaResultado").innerHTML = `<div class="alert alert-danger" role="alert">
																					ERROR: <br> ¡Ingrese valores numéricos válidos! 
																				</div>`; // Si hay un número no ingresado o erróneo (por ejemplo, '4+') que provoca un NaN como resultado, se mostrará un mensaje de error correspondiente
					} else if (!isFinite(c)) {
						document.getElementById("filaResultado").innerHTML = `<div class="alert alert-warning" role="alert">
																					¡El resultado es demasiado grande!
																				</div>`; // Reemplazo del 'Infinity' que puede terminar como resultado cuando el número es incalculable
					} else {
						document.getElementById("filaResultado").innerHTML = `<h3 style="text-align: center;">${c}</h3>`;  // Si todo está bien, inyectamos el resultado en el HTML como un h3
					}
					
				}
			
			// Función para generar tabla de multiplicar de un número entre el 1 y el 10 escogido por el usuario
			function generarTabla(a) {
				// Si es primera vez que se ejecuta, se agrega la fila, si no, no hace falta
				if (!filaResultadoAgregada) {
						agregarFila(document.getElementById('seccionTablas'));
					}

				// Mensaje de error en caso de que usuario haga click en 'Generar Tabla' sin escoger un número
				if (a === 0) {
					document.getElementById("filaResultado").innerHTML = `<div class="alert alert-danger" role="alert">
																					ERROR: <br> ¡Debe seleccionar un número entre 1 y 10!
																				</div>`;
				} else { // Si es sí escogió un número, se creará la tabla
					var tabla = document.createElement("table");

					var encabezado = document.createElement("tr");
					var thMultiplicador = document.createElement("th");
					var thResultado = document.createElement("th");
					thMultiplicador.textContent = a + " x";
					thResultado.textContent = "=";
					encabezado.appendChild(thMultiplicador);
					encabezado.appendChild(thResultado);
					tabla.appendChild(encabezado);

					for (var i = 1; i <= 10; i++) { // Ciclo por el cual se realizarán las multiplicaciones 
						var resultado = a * i; // Cálculo del resultado
						var fila = document.createElement("tr");
						var tdMultiplicador = document.createElement("td");
						var tdResultado = document.createElement("td");
						tdMultiplicador.textContent = i; // elemento td que especifica el número por el cual se está multiplicando
						tdResultado.textContent = resultado; // Resultado se suma a la tabla como un elemento td
						fila.appendChild(tdMultiplicador);
						fila.appendChild(tdResultado);
						tabla.appendChild(fila);
						console.log(a + " x " + i + " = " + resultado); // Testeo de multiplicaciones
					}	
					
					document.getElementById("filaResultado").innerHTML = '';
					document.getElementById("filaResultado").appendChild(tabla); // Tabla se desplegará en la sección de resultado
				}
				
			}

			// Función para generar y desplegar automáticamente las tablas de multiplicar del 1 al 10
			function generarTablas1al10() {
				// Si es primera vez que se ejecuta, se agrega la fila, si no, no hace falta
				if (!filaResultadoAgregada) {
					agregarFila(document.getElementById('seccionTablas'));
				}

				// En este caso, para efectos de visualización, la tabla tendrá su propio contenedor
				var tablaContainer = document.createElement("div");
    			tablaContainer.className = "table-container";

				// Creación de tabla
				var tabla = document.createElement("table");

				var encabezado = document.createElement("tr");
				var thSigno = document.createElement("th");
				thSigno.textContent = "X";
				thSigno.style.backgroundColor = "rgb(209, 82, 203)";
				encabezado.appendChild(thSigno);
				tabla.appendChild(encabezado);

				for (var i = 1; i <= 10; i++) { // Ciclo que creará filas y columnas para una tabla de 10x10
					var fila = document.createElement("tr");
					var thNumero = document.createElement("th");
					var thMultiplicador = document.createElement("th");
					thNumero.textContent = i; // Números 1-10 para las filas
					thMultiplicador.textContent = i; // Números 1-10 para las columnas
					fila.appendChild(thNumero);
					encabezado.appendChild(thMultiplicador);
					
					for (var j = 1; j <= 10; j++) { // Ciclo que realizará las multiplicaciones
						var tdResultado = document.createElement("td");
						tdResultado.textContent = i * j; // Cálculo
						fila.appendChild(tdResultado); // Resultado se agrega a la tabla como elemento td
						console.log(i + " x " + j + " = " + tdResultado.textContent); // Testo de multiplicaciones
					}

					tabla.appendChild(fila); // Una vez que se hacen las 10 multiplicaciones la fila queda lista para sumarse a la tabla
				}

				tablaContainer.appendChild(tabla); // Tabla se pone en su respectivo contenedor

				document.getElementById("filaResultado").innerHTML = '';
				document.getElementById("filaResultado").appendChild(tablaContainer); // Tabla se desplegará en la sección de resultado 
			}

			// Función que limpia forms y, cuando aplica, elimina el div con el resultado de los cálculos matemáticos
			// Al invocarla, se deben especificar el form y la sección en el cual este se encuentra (parámetros)
			function limpiar(form, seccion) {
				form.reset();

				// Verifica si la hay un resultado desplegado Y que este pertenezca a la misma sección utilizada como parámetro
				if (filaResultadoAgregada && filaResultado.parentNode === seccion) { 
					seccion.removeChild(document.getElementById("filaResultado")); // Elimina la fila con el resultado del último cálculo o tabla que se haya desplegada
					filaResultadoAgregada = false; // Reestablece variable para que posteriores cálculos o generaciones de tablas se realicen correctamente
				}
				
			}

			// Función que despliega un alert informando que el mensaje en el formulario de contacto se ha enviado (sin validación)
			function mostrarConfirmaciónContacto() {
				window.alert('Mensaje enviado. ¡Gracias por contactarte con nosotros!');

				// Una vez que se envía y se recibe el mensaje, se limpia el formulario
				limpiar(document.getElementById('formContacto'), document.getElementById('seccionContacto'));
			}

			// Event Listener que impide al usuario ingresar caracteres no númericos o más de 9 dígitos en el campo de número de celular
			document.getElementById('inputTelefono').addEventListener('input', function() {
				var maxLength = 9; // Define la longitud máxima permitida

				this.value = this.value.replace(/\D/g, ''); // Eliminada inmediatamente cualquier caracter no numérico

				if (this.value.length > maxLength) {
					this.value = this.value.slice(0, maxLength); // Limita la longitud del valor al máximo permitido
				}
			});

			</script>
	</body>
</html>